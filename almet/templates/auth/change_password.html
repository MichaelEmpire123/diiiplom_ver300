{% extends 'base.html' %}

{% block title %}–°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <h2 class="text-center">–°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è</h2>
        <form method="post" action="{% url 'change_password' %}" class="mt-4">
            {% csrf_token %}
            <div class="mb-3">
                <label for="old_password" class="form-label">–°—Ç–∞—Ä—ã–π –ø–∞—Ä–æ–ª—å</label>
                <div class="input-group">
                    <input type="password" class="form-control" id="old_password" name="old_password" required>
                    <button type="button" class="btn btn-outline-secondary toggle-password" data-target="old_password">
                        üëÅ
                    </button>
                </div>
            </div>
            <div class="mb-3">
                <label for="new_password" class="form-label">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                <div class="input-group">
                    <input type="password" class="form-control" id="new_password" name="new_password" required>
                    <button type="button" class="btn btn-outline-secondary toggle-password" data-target="new_password">
                        üëÅ
                    </button>
                </div>
            </div>
            <div class="mb-3">
                <label for="confirm_password" class="form-label">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                <div class="input-group">
                    <input type="password" class="form-control" id="confirm_password" name="confirm_password" required>
                    <button type="button" class="btn btn-outline-secondary toggle-password" data-target="confirm_password">
                        üëÅ
                    </button>
                </div>
            </div>
            <button type="submit" class="btn btn-primary">–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
        </form>
    </div>
</div>

<script>
    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–æ–∫ "–≥–ª–∞–∑–∏–∫–∞"
    document.querySelectorAll(".toggle-password").forEach(button => {
        button.addEventListener("click", function() {
            const targetId = this.getAttribute("data-target");
            const input = document.getElementById(targetId);
            if (input.type === "password") {
                input.type = "text";
                this.innerHTML = "üôà"; // –ò–∫–æ–Ω–∫–∞ –¥–ª—è —Å–∫—Ä—ã—Ç–æ–≥–æ –ø–∞—Ä–æ–ª—è
            } else {
                input.type = "password";
                this.innerHTML = "üëÅ"; // –ò–∫–æ–Ω–∫–∞ –¥–ª—è –ø–æ–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ø–∞—Ä–æ–ª—è
            }
        });
    });
</script>
{% endblock %}